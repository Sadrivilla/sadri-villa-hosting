signup.html

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sign Up</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:Arial,sans-serif;
  background:#eef2ff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  margin:0;
}
.card{
  background:#fff;
  padding:36px;
  border-radius:22px;
  width:100%;
  max-width:420px;
  box-shadow:0 20px 45px rgba(0,0,0,.15);
}
h2{text-align:center;margin-bottom:26px}

.field{margin-bottom:16px}
.field input{
  width:100%;
  height:56px;
  padding:0 16px;
  border-radius:14px;
  border:1.5px solid #d1d5db;
  font-size:15px;
}

button{
  width:100%;
  height:56px;
  margin-top:10px;
  border:none;
  border-radius:16px;
  background:#6d28d9;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
button:disabled{
  opacity:.6;
  cursor:not-allowed
}

/* MESSAGE */
.msg-box{
  display:none;
  margin-top:20px;
  padding:14px 16px;
  border-radius:14px;
  font-size:14px;
  font-weight:600;
  text-align:center
}
.msg-success{
  display:block;
  background:#dcfce7;
  color:#166534;
  border:1.5px solid #22c55e
}
.msg-error{
  display:block;
  background:#fee2e2;
  color:#991b1b;
  border:1.5px solid #ef4444
}

/* LOADER */
.loader{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999
}
.loader div{
  width:60px;
  height:60px;
  border:6px solid #e5e7eb;
  border-top:6px solid #6d28d9;
  border-radius:50%;
  animation:spin 1s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}

.links{
  text-align:center;
  margin-top:16px;
}
.links a{
  color:#6d28d9;
  font-weight:600;
  text-decoration:none;
}
</style>
</head>

<body>

<div class="card">
  <h2>üìù Register</h2>

  <div class="field"><input id="name" placeholder="Full Name"></div>
  <div class="field"><input id="phone" placeholder="Mobile Number"></div>
  <div class="field"><input id="email" type="email" placeholder="Email"></div>
  <div class="field"><input id="password" type="password" placeholder="Password"></div>
  <div class="field"><input id="confirm" type="password" placeholder="Confirm Password"></div>

  <button id="btn" onclick="register()">Register</button>

  <div id="msg" class="msg-box"></div>

  <div class="links">
    <a href="login.html">Back to Login</a>
  </div>
</div>

<!-- LOADER -->
<div class="loader" id="loader"><div></div></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword }
  from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore, setDoc, doc }
  from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

/* FIREBASE */
const app = initializeApp({
  apiKey:"AIzaSyC7gkT4F_dRJpWfef12y6cwV3F2PTMJ6fY",
  authDomain:"sadri-villa-14c06.firebaseapp.com",
  projectId:"sadri-villa-14c06"
});
const auth = getAuth(app);
const db = getFirestore(app);

window.register = async () => {
  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;
  const confirm = document.getElementById("confirm").value;

  const msg = document.getElementById("msg");
  const loader = document.getElementById("loader");
  const btn = document.getElementById("btn");

  msg.style.display = "none";
  msg.className = "msg-box";

  if (!name || !phone || !email || !password || !confirm) {
    msg.textContent = "All fields are required";
    msg.classList.add("msg-error");
    msg.style.display = "block";
    return;
  }

  if (password !== confirm) {
    msg.textContent = "Password and Confirm Password do not match";
    msg.classList.add("msg-error");
    msg.style.display = "block";
    return;
  }

  if (password.length < 6) {
    msg.textContent = "Password must be at least 6 characters";
    msg.classList.add("msg-error");
    msg.style.display = "block";
    return;
  }

  try {
    loader.style.display = "flex";
    btn.disabled = true;

    const cred = await createUserWithEmailAndPassword(auth, email, password);

    await setDoc(doc(db,"users",cred.user.uid),{
      role:"user",
      approved:false,
      adminFields:{
        Name:name,
        Email:email,
        Phone:phone
      },
      createdAt:new Date().toISOString()
    });

    msg.textContent =
      "Registration successful ‚úÖ Your account is pending admin approval. Redirecting to login...";
    msg.classList.add("msg-success");
    msg.style.display = "block";

    /* AUTO REDIRECT */
    setTimeout(()=>{
      location.href="login.html";
    },5000);

  } catch (e) {
    msg.textContent = e.message;
    msg.classList.add("msg-error");
    msg.style.display = "block";
  } finally {
    loader.style.display = "none";
    btn.disabled = false;
  }
};
</script>

</body>
</html>
